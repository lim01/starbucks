<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="enable">알림 허용</button>  

  <script>
    const btn = document.querySelector('#enable');
    btn.addEventListener('click', () => {
      //alert('Hi');
      console.log('button clicked');
      notify('메시지 알림 테스트1\n메시지 알림 테스트2\n메시지 알림 테스트3\n메시지 알림 테스트4');
    });
    
    // 알림 띄우기
    function notify(msg) {
      console.log('function notify');
      var options = {
            body: msg,
            //icon: "https://flamboyant-swanson-e904dc.netlify.app/favicon.ico"
            icon: "/favicon.ico",
            badge: "/push-badge-72x72.png",
            image: "/cat.png",
            //url: "https://mtbs.toursoft.co.kr/erp/main/main",
            //setOngoing: true,
            //applicationIconBadgeNumber: 1
            // actions: [
            //   { 
            //     action: 'yes-action',
            //     title: 'yes',
            //     icon: '/yes.png'
            //   },
            //   { 
            //     action: 'no-action',
            //     title: 'no',
            //     icon: '/no.png'
            //   }
            // ]
      }

      // 데스크탑 알림 요청
      var notification = new Notification("MclickSyttem", options);
 
      /*
      notification.onclick = function(event) {
        event.preventDefault(); // prevent the browser from focusing the Notification's tab
        window.open('http://www.mozilla.org', '_blank');
      }
      */

      // 5초뒤 알람 닫기
      //setTimeout(function(){
      //    notification.close();
      //}, 5000);
    }
  </script>    
</body>
</html>